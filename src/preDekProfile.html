<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="apple-touch-icon" sizes="180x180" href="./favicon.svg" />
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon.svg" />
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon.svg" />
    <link rel="manifest" href="./site.webmanifest" />
    <link rel="preconnect" href="https://unpkg.com/" />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com/" />
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/buefy/dist/buefy.min.css" />
    <link rel="stylesheet" href="./css/master.css" />
    <link rel="stylesheet" href="https://cdn.materialdesignicons.com/2.5.94/css/materialdesignicons.min.css">
    <!-- --- เปลี่ยนชื่อหน้าใน Tag นี้ --- -->
    <title>Pre-Dek Work | Solf Skill</title>
</head>

<body style=" background-image: url('../assets/background.png');background-size: cover; background-position: fixed; background-repeat: no-repeat; background-attachment: fixed; background-position: center;">
    <div id="app">
        <!-- --- เริ่มแก้ไขตั้งแต่ตรงนี้ --- -->
        <!--/////////////////////////////////////////////navbar//////////////////////////////////////////////////-->
        <nav style=" padding: 1rem;" class="navbar" role="navigation" aria-label="main navigation">
            <div class="container">
                <div class="navbar-item">
                    <img src="./favicon.svg" style="max-height:50px">
                </div>
                <div id="navbarBasicExample" class="navbar-menu">
                    <div class="navbar-start">
                        <b-navbar-item href="/preDekHome">หน้าแรก</b-navbar-item>
                        <b-navbar-item href="/preDekResponse">บริษัทที่สนใจคุณ</b-navbar-item>
                        <b-navbar-item href="/prePartner">ฝึกประสบการณ์</b-navbar-item>
                        <b-navbar-item href="/preSolfSkill">ฝึก Solf Skill</b-navbar-item>
                    </div>
                    <div class="navbar-end">
                        <div class="navbar-item">
                            <b-button type="is-info" @click="gotprofile()" outlined>{{cerUser.u_email}}</b-button>
                        </div>
                        <div class="navbar-item">
                            <b-button type="is-danger" @click="checkUserLogout()" outlined>Logout</b-button>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <!--/////////////////////////////////////////////navbar//////////////////////////////////////////////////-->
        <div style="margin-top: 10px;" class="container">
            <div class="box">

                <div class="level">
                    <div class="level-left">
                        <h1 class="title">
                            <i class="fas fa-plus"></i> ข้อมูลส่วนบุคคลของท่าน
                        </h1>
                    </div>
                    <div class="level-right">
                        <div class="column">
                            <div class="is-centered">
                                <figure v-if="PreData[0].imgName !='none'" class="image is-128x128 is-centered">
                                    <img style="object-fit: scale-down;height: 128px;" :src="'./assets/pre-img/' + PreData[0].imgName" />
                                    <!-- ใส่ : หน้า src -->
                                </figure>
                            </div>
                            <div class="spacer is-1x"></div>
                            <div class="is-centered">
                                <div v-if="PreData[0].imgName !='none'" class="item is-right">
                                    <b-button class="is-small is-right" type="is-info" @click="openTap=true">แก้ไขรูปประจำตัว</b-button>
                                </div>
                                <div v-else class="item is-right">
                                    <b-button class="is-small is-right" type="is-info" @click="openTap=true">อัพโหลดรูปประจำตัว</b-button>
                                </div>
                            </div>
                            <div class="is-centered">
                                <div v-if="PreData[0].confirm_status ==='none'" class="item is-right">
                                    <div class="spacer is-1x"></div>
                                    <b-button class="is-small is-centered is-right" type="is-info" @click="cc=true">อัพโหลดรูปยืนยันสำเร็จการศึกษา</b-button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="columns">
                    <div class="column is-4">
                        <div class="field">


                            <div class="field">
                                <label class="label">ชื่อ</label>
                                <div class="control">
                                    <div class="field has-addons">
                                        <div class="control is-expanded">
                                            <b-field>
                                                <b-input type="text" v-model="PreData[0].fname" readonly></b-input>
                                            </b-field>
                                        </div>
                                        <div class="control">
                                            <button class="button" @click="editFname = true">
                                                <span class="icon">
                                                    <i class="fas fa-pen"></i>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="column is-4">
                        <div class="field">


                            <div class="field">
                                <label class="label">นามสกุล</label>
                                <div class="control">
                                    <div class="field has-addons">
                                        <div class="control is-expanded">
                                            <b-field>
                                                <b-input type="text" v-model="PreData[0].lname" readonly></b-input>
                                            </b-field>
                                        </div>
                                        <div class="control">
                                            <button class="button" @click="editLname = true">
                                                <span class="icon">
                                                    <i class="fas fa-pen"></i>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="column is-4">
                        <div class="field">
                            <label class="label">อายุ</label>
                            <b-field>
                                <b-input type="text" v-model="PreData[0].age" readonly></b-input>
                            </b-field>
                        </div>
                    </div>
                </div>
                <div class="columns">
                    <div class="column is-4">
                        <div class="field">
                            <label class="label">วันเกิด</label>
                            <b-field>
                                <b-input type="text" v-model="PreData[0].humandate" readonly></b-input>
                            </b-field>
                        </div>
                    </div>
                    <div class="column is-4">
                        <div class="field">
                            <label class="label">เพศ</label>
                            <b-field>
                                <b-input type="text" v-model="PreData[0].sex" readonly></b-input>
                            </b-field>
                        </div>
                    </div>
                    <div class="column is-4">
                        <div class="field">

                            <div class="field">
                                <label class="label">สถานภาพ</label>
                                <div class="control">
                                    <div class="field has-addons">
                                        <div class="control is-expanded">
                                            <b-field>
                                                <b-input type="text" v-model="PreData[0].status" readonly></b-input>
                                            </b-field>
                                        </div>
                                        <div class="control">
                                            <button class="button" @click="editeStatus = true">
                                                <span class="icon">
                                                    <i class="fas fa-pen"></i>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="columns" style="align-items:flex-end">
                    <div class="column">
                        <div class="field">

                            <div class="field">
                                <label class="label">ที่อยู่</label>
                                <div class="control">
                                    <div class="field has-addons">
                                        <div class="control is-expanded">
                                            <b-field>
                                                <b-input type="text" v-model="PreData[0].address" readonly></b-input>
                                            </b-field>
                                        </div>
                                        <div class="control">
                                            <button class="button" @click="editAddress = true">
                                                <span class="icon">
                                                    <i class="fas fa-pen"></i>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="columns">
                    <div class="column is-4">
                        <div class="field">
                            <div class="field">
                                <label class="label">สัญชาติ</label>
                                <div class="control">
                                    <div class="field has-addons">
                                        <div class="control is-expanded">
                                            <b-field>
                                                <b-input type="text" v-model="PreData[0].nationality" readonly></b-input>
                                            </b-field>
                                        </div>
                                        <div class="control">
                                            <button class="button" @click="editNationality = true">
                                                <span class="icon">
                                                    <i class="fas fa-pen"></i>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="column is-4">
                        <div class="field">
                            <div class="field">
                                <label class="label">เชื้อชาติ</label>
                                <div class="control">
                                    <div class="field has-addons">
                                        <div class="control is-expanded">
                                            <b-field>
                                                <b-input type="text" v-model="PreData[0].race" readonly></b-input>
                                            </b-field>
                                        </div>
                                        <div class="control">
                                            <button class="button" @click="editRace = true">
                                                <span class="icon">
                                                    <i class="fas fa-pen"></i>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="column is-4">
                        <div class="field">
                            <div class="field">
                                <label class="label">ศาสนา</label>
                                <div class="control">
                                    <div class="field has-addons">
                                        <div class="control is-expanded">
                                            <b-field>
                                                <b-input type="text" v-model="PreData[0].religion" readonly></b-input>
                                            </b-field>
                                        </div>
                                        <div class="control">
                                            <button class="button" @click="editReligion = true">
                                                <span class="icon">
                                                    <i class="fas fa-pen"></i>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="columns" style="align-items:flex-end">
                    <div class="column is-6">
                        <div class="field">

                            <div class="field">
                                <label class="label">ระดับการศึกษา</label>
                                <div class="control">
                                    <div class="field has-addons">
                                        <div class="control is-expanded">
                                            <b-field>
                                                <b-input type="text" v-model="PreData[0].eLevel" readonly></b-input>
                                            </b-field>
                                        </div>
                                        <div class="control">
                                            <button class="button" @click="editeLevel = true">
                                                <span class="icon">
                                                    <i class="fas fa-pen"></i>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="column is-6">
                        <div class="field">

                            <div class="field">
                                <label class="label">มหาวิทยาลัย</label>
                                <div class="control">
                                    <div class="field has-addons">
                                        <div class="control is-expanded">
                                            <b-field>
                                                <b-input type="text" v-model="PreData[0].University" readonly></b-input>
                                            </b-field>
                                        </div>
                                        <div class="control">
                                            <button class="button" @click="editUnivercity = true">
                                                <span class="icon">
                                                    <i class="fas fa-pen"></i>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="columns">
                    <div class="column is-4">
                        <div class="field">

                            <div class="field">
                                <label class="label">คณะ</label>
                                <div class="control">
                                    <div class="field has-addons">
                                        <div class="control is-expanded">
                                            <b-field>
                                                <b-input type="text" v-model="PreData[0].Faculty" readonly></b-input>
                                            </b-field>
                                        </div>
                                        <div class="control">
                                            <button class="button" @click="editFaculty = true">
                                                <span class="icon">
                                                    <i class="fas fa-pen"></i>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="column is-4">
                        <div class="field">
                            <div class="field">
                                <label class="label">สาขา</label>
                                <div class="control">
                                    <div class="field has-addons">
                                        <div class="control is-expanded">
                                            <b-field>
                                                <b-input type="text" v-model="PreData[0].Department" readonly></b-input>
                                            </b-field>
                                        </div>
                                        <div class="control">
                                            <button class="button" @click="editDepartment = true">
                                                <span class="icon">
                                                    <i class="fas fa-pen"></i>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="column is-4">
                        <div class="field">
                            <div class="field">
                                <label class="label">GPAX</label>
                                <div class="control">
                                    <div class="field has-addons">
                                        <div class="control is-expanded">
                                            <b-field>
                                                <b-input type="text" v-model="PreData[0].GPAX" readonly></b-input>
                                            </b-field>
                                        </div>
                                        <div class="control">
                                            <button class="button" @click="editGPAX = true">
                                                <span class="icon">
                                                    <i class="fas fa-pen"></i>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="columns" style="align-items:flex-end"></div>
                <div class="columns">
                    <div class="column is-4">
                        <div class="field">
                            <label class="label">เบอร์โทรศัพท์</label>
                            <div class="control">
                                <div class="field has-addons">
                                    <div class="control is-expanded">
                                        <b-field>
                                            <b-input type="text" v-model="PreData[0].phone" readonly></b-input>
                                        </b-field>
                                    </div>
                                    <div class="control">
                                        <button class="button" @click="editPhone = true">
                                            <span class="icon">
                                                <i class="fas fa-pen"></i>
                                            </span>
                                    </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="column is-4">
                        <div class="field">
                            <label class="label">E-mail</label>
                            <div class="control">
                                <div class="field has-addons">
                                    <div class="control is-expanded">
                                        <b-field>
                                            <b-input type="text" v-model="PreData[0].u_email" readonly></b-input>
                                        </b-field>
                                    </div>
                                    <div class="control">
                                        <button class="button" @click="editEmail = true">
                          <span class="icon">
                            <i class="fas fa-pen"></i>
                          </span>
                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="column is-4">
                        <div class="field">
                            <label class="label">Password</label>
                            <div class="control">
                                <div class="field has-addons">
                                    <div class="control is-expanded">
                                        <b-field>
                                            <b-input readonly v-model="pass"></b-input>
                                        </b-field>
                                    </div>
                                    <div class="control">
                                        <button class="button" @click="editPassword = true">
                                            <span class="icon">
                                                <i class="fas fa-pen"></i>
                                            </span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="colmns">
                    <p> <strong>ทักษะที่มี : </strong>
                        <span v-for="(skillList,i) in Preskill" :key="i" :value="i">
                            <span style="margin: 2px;" class="tag is-success is-medium is-light">
                                {{skillList.skill_name}}
                            </span>
                        </span>
                        <div v-if="filteredTags!=''">
                            <button class="button tag is-danger" @click="skillpopup()" style="font-size: 15px; margin-top: 3px;">เพิ่มทักษะ</button>
                        </div>
                    </p>
                </div>
                <hr />

                <!-- ///////////////////////////////////////////////////                 POP UP               /////////////////////////////////////////////////////////////////////////// -->
                <b-modal :active.sync="openTap" :width="890" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    อัพโหลดรูปประจำตัว
                                </div>
                            </div>
                        </header>
                        <div class="spacer is-2x"></div>
                        <div class="care-content">
                            <div class="field">
                                <form method="POST" action="/api/uploadfile" enctype="multipart/form-data">
                                    <div class="file is-boxed is-centered">
                                        <input type="file" name="file">
                                    </div>
                                    <div class="spacer is-2x"></div>
                                    <div class="spacer is-1x"></div>
                                    <div class="field is-grouped" style="justify-content:center">
                                        <div class="control">
                                            <button class="button is-danger" @click="openTap = false">&emsp;ยกเลิก&emsp;</button>
                                        </div>
                                        <div class="control">
                                            <button class="button is-success" type="input" type="submit">&emsp;อัพโหลด&emsp;</button>
                                        </div>
                                    </div>
                                </form>
                                <div class="spacer is-2x"></div>
                                <div class="spacer is-1x"></div>
                            </div>
                        </div>
                    </div>
                </b-modal>

                <b-modal :active.sync="cc" :width="890" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    อัพโหลดใบจบการศึกษา
                                </div>
                            </div>
                        </header>
                        <div class="spacer is-2x"></div>
                        <div class="care-content">
                            <form method="POST" action="/api/imageCupload" enctype="multipart/form-data">
                                <div class="file is-boxed is-centered">
                                    <input type="file" name="file">
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="spacer is-1x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="cc = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" type="input" type="submit">&emsp;อัพโหลด&emsp;</button>
                                    </div>
                                </div>
                            </form>
                            <div class="spacer is-2x"></div>
                            <div class="spacer is-1x"></div>
                        </div>
                    </div>
                </b-modal>


                <b-modal :active.sync="editPassword" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <label class="label">รหัสผ่าน ใหม่</label>
                                <div class="control">
                                    <input type="password" v-model="newpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editPassword = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="passWordChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>

                <b-modal :active.sync="editEmail" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">Email ใหม่</label>
                                <div class="control">
                                    <input type="email" v-model="email" class="input" placeholder="Example@Example" />
                                </div>
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editEmail = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="emailChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>

                <b-modal :active.sync="editPhone" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">เบอร์โทรศัพท์</label>
                                <div class="control">
                                    <input type="number" v-model="phone" class="input" placeholder="0XXXXXXXXX" />
                                </div>
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editPhone = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="phoneChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>

                <b-modal :active.sync="editGPAX" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">GPAX</label>
                                <div class="control">
                                    <input type="number" max="4.00" step="0.01" v-model="GPAX" class="input" placeholder="4.00" />
                                </div>
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editGPAX = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="GPAXChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>


                <b-modal :active.sync="editDepartment" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">สาขา</label>
                                <div class="control">
                                    <input type="input" v-model="Department" class="input" placeholder="Example" />
                                </div>
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editDepartment = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="departmentChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>

                <b-modal :active.sync="editFaculty" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">คณะ</label>
                                <div class="control">
                                    <input type="input" v-model="Faculty" class="input" placeholder="Example" />
                                </div>
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editFaculty = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="facultyChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>

                <b-modal :active.sync="editUnivercity" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">มหาวิทยาลัย</label>
                                <div class="control">
                                    <input type="input" v-model="Univercity" class="input" placeholder="Example" />
                                </div>
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editUnivercity = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="univercityChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>

                <b-modal :active.sync="editeLevel" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">ระดับการศึกษา</label>
                                <div class="control">
                                    <b-field>
                                        <b-select class="is-fullwidth" v-model="eLevel" expanded>
                                            <option v-for="(list,i) in elevelList" :key="i">{{list.level}}
                                            </option>
                                        </b-select>
                                    </b-field>
                                </div>
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editeLevel = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="eLevelChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>

                <b-modal :active.sync="editReligion" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">ศาสนา</label>
                                <div class="control">
                                    <input type="input" v-model="Religion" class="input" placeholder="Example" />
                                </div>
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editReligion = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="ReligionChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>


                <b-modal :active.sync="editRace" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">เชื้อชาติ</label>
                                <div class="control">
                                    <input type="input" v-model="Race" class="input" placeholder="Example" />
                                </div>
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editRace = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="RaceChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>


                <b-modal :active.sync="editNationality" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">สัญชาติ</label>
                                <div class="control">
                                    <input type="input" v-model="Nationality" class="input" placeholder="Example" />
                                </div>
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editNationality = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="NationalityChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>

                <b-modal :active.sync="editFname" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">ชื่อ</label>
                                <div class="control">
                                    <input type="input" v-model="Fname" class="input" placeholder="Example" />
                                </div>
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editFname = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="FnameChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>


                <b-modal :active.sync="editLname" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">นามสกุล</label>
                                <div class="control">
                                    <input type="input" v-model="Lname" class="input" placeholder="Example" />
                                </div>
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editLname = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="LnameChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>

                <b-modal :active.sync="editeStatus" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">สถานะ</label>
                                <div class="control">
                                    <b-field>
                                        <b-select class="is-fullwidth" v-model="Status" expanded>
                                            <option v-for="(list,i) in statusList" :key="i">{{list.status}}
                                            </option>
                                        </b-select>
                                    </b-field>
                                </div>
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editeStatus = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="StatusChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>

                <b-modal :active.sync="editAddress" :width="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    กรุณาใส่ข้อมูล
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <label class="label">ที่อยู่</label>
                                <div class="control">
                                    <textarea class="textarea" placeholder="address" v-model="Address"></textarea>
                                </div>
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                                <div class="spacer is-2x"></div>
                                <div class="field is-grouped" style="justify-content:center">
                                    <div class="control">
                                        <button class="button is-danger" @click="editAddress = false">&emsp;ยกเลิก&emsp;</button>
                                    </div>
                                    <div class="control">
                                        <button class="button is-success" @click="addressChange()">&emsp;บันทึก&emsp;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>

                <b-modal :active.sync="skillpop" :width="640" :hight="640" scroll="keep">
                    <div class="card">
                        <header class="modal-card-head">
                            <div class="title is-5">
                                <div class="title is-5">
                                    เพิ่มทักษะ
                                </div>
                            </div>
                        </header>
                        <div class="card-content">
                            <div class="field">
                                <b-field label="เลือกทักษะที่ต้องการเพิ่ม">
                                    <b-taginput v-model="tags" :data="filteredTags" autocomplete :allow-new="allowNew" :open-on-focus="openOnFocus" field="skill_name" icon="label" placeholder="Add a tag">
                                    </b-taginput>
                                </b-field>
                                <!-- <pre style="max-height: 400px"><b>Tags:</b>{{ tags }}</pre> -->
                                <label class="label">รหัสผ่าน</label>
                                <div class="control">
                                    <input type="password" v-model="cpass" class="input" placeholder="••••••••" />
                                </div>
                            </div>
                            <div class="field is-grouped" style="justify-content:center">
                                <div class="control">
                                    <button class="button is-danger" @click="skillpop = false">&emsp;ยกเลิก&emsp;</button>
                                </div>
                                <div class="control">
                                    <button class="button is-success" @click="addskill()">&emsp;บันทึก&emsp;</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </b-modal>







            </div>
        </div>
    </div>
    <!-- --- อย่าแก้อะไรหลังจากนี้ --- -->
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="./js/buefy.min.js"></script>

    <style lang="scss" scoped>
        .box-list {
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);
            background-color: rgb(255, 255, 255);
            border-radius: 10px 10px 10px 10px;
            min-width: 30vh;
            min-height: 17vh;
            margin: 15px;
            margin-top: 35px;
            margin-bottom: 35px;
        }
        
        .work-list {
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px 15px 15px 15px;
            min-height: 86vh;
            margin: 20px;
            margin-top: 25px;
        }
    </style>
    <script defer>
        // --- เขียน Vue ในนี้จ้า ---
        new Vue({
            el: "#app",
            data: {
                cerUser: [],
                PreData: [],
                Preskill: [],
                openTap: false,
                cc: false,
                elevelList: [{
                    level: "ระดับปริญญาตรี"
                }, {
                    level: "ระดับปริญญาโท"
                }, {
                    level: "ระดับปริญญาเอก"
                }],
                statusList: [{
                    status: "โสด"
                }, {
                    status: "แต่งงานแล้ว"
                }, {
                    status: "หย่าร้าง"
                }],
                pass: "••••••••••",
                editPassword: false,
                newpass: "",
                editEmail: false,
                email: "",
                editPhone: false,
                phone: "",
                editGPAX: false,
                GPAX: "",
                editDepartment: false,
                Department: "",
                editFaculty: false,
                Faculty: "",
                editUnivercity: false,
                Univercity: "",
                editeLevel: false,
                eLevel: "",
                editReligion: false,
                Religion: "",
                editRace: false,
                Race: "",
                editNationality: false,
                Nationality: "",
                editFname: false,
                Fname: "",
                editLname: false,
                Lname: "",
                editeStatus: false,
                Status: "",
                editAddress: false,
                Address: "",
                cpass: "",


                skillpop: false,
                filteredTags: [],
                isSelectOnly: false,
                tags: [],
                allowNew: false,
                openOnFocus: true,





            },
            computed: {},
            methods: {
                checkUserIsLogin() {
                    const loadingComponent = this.$buefy.loading.open();
                    fetch("/api/check", {
                            method: "POST",
                        })
                        .then(response => {
                            if (response.ok) {
                                return response.json()
                            } else window.location.href = "./loginUser"
                        })
                        .then(data => {
                            this.cerUser = data;
                        })
                    setTimeout(() => loadingComponent.close(), 1000)
                },
                checkUserLogout() {
                    fetch("/api/logout")
                        .then(response => {
                            if (response.ok) {
                                window.location.href = "./loginUser"
                            }
                        })
                },
                getpredekdata() {
                    const loadingComponent = this.$buefy.loading.open();
                    fetch("/api/getpredekdata")
                        .then(response => {
                            if (response.ok) {
                                return response.json()
                            }
                        })
                        .then(data => {
                            this.PreData = data.PreData;
                            this.Preskill = data.Preskill;
                            this.change_to_humandate();
                        })
                    setTimeout(() => loadingComponent.close(), 1000)
                },
                change_to_humandate: function() {
                    var todate = new Date(this.PreData[0].bday).getDate();
                    var tomonth = new Date(this.PreData[0].bday).getMonth() + 1;
                    var toyear = new Date(this.PreData[0].bday).getFullYear();
                    var year = new Date().getFullYear();
                    var original_date = todate + '/' + tomonth + '/' + toyear;
                    this.PreData[0].humandate = original_date;
                    this.PreData[0].age = year - toyear;
                },
                gotprofile() {
                    window.location.href = "./preDekProfile"
                },
                ///////////////////////////////////////////////////////////////////////////////////////

                passWordChange() {
                    const loadingComponent = this.$buefy.loading.open();
                    this.editPassword = false
                    if (this.newpass === "") {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณากรอกข้อมูลให้ครบ!',
                            type: 'is-danger',
                        })
                    } else {
                        fetch("/api/changepassword", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    newpass: this.newpass,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'เปลี่ยนข้อมูลไม่สำเร็จ!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },


                FnameChange() {
                    const loadingComponent = this.$buefy.loading.open();
                    if (this.Fname === "") {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณากรอกข้อมูลให้ครบ!',
                            type: 'is-danger',
                        })
                    } else {
                        fetch("/api/changefname", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    Fname: this.Fname,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'รหัสผ่านไม่ถูกต้อง!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },


                LnameChange() {
                    const loadingComponent = this.$buefy.loading.open();

                    if (this.Lname === "") {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณากรอกข้อมูลให้ครบ!',
                            type: 'is-danger',
                        })
                    } else {

                        fetch("/api/changelname", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    Lname: this.Lname,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'รหัสผ่านไม่ถูกต้อง!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },

                StatusChange() {
                    const loadingComponent = this.$buefy.loading.open();
                    if (this.Status === "") {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณากรอกข้อมูลให้ครบ!',
                            type: 'is-danger',
                        })
                    } else {
                        console.log("ddddddddd");
                        fetch("/api/changePre/status", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    Status: this.Status,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'รหัสผ่านไม่ถูกต้อง!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },


                NationalityChange() {
                    const loadingComponent = this.$buefy.loading.open();
                    if (this.Nationality === "") {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณากรอกข้อมูลให้ครบ!',
                            type: 'is-danger',
                        })
                    } else {
                        console.log("ddddddddd");
                        fetch("/api/changePre/nationality", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    Nationality: this.Nationality,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'รหัสผ่านไม่ถูกต้อง!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },


                RaceChange() {
                    const loadingComponent = this.$buefy.loading.open();
                    if (this.Race === "") {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณากรอกข้อมูลให้ครบ!',
                            type: 'is-danger',
                        })
                    } else {
                        console.log("ddddddddd");
                        fetch("/api/changePre/race", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    Race: this.Race,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'รหัสผ่านไม่ถูกต้อง!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },


                ReligionChange() {
                    const loadingComponent = this.$buefy.loading.open();
                    if (this.Religion === "") {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณากรอกข้อมูลให้ครบ!',
                            type: 'is-danger',
                        })
                    } else {
                        console.log("ddddddddd");
                        fetch("/api/changePre/religion", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    Religion: this.Religion,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'รหัสผ่านไม่ถูกต้อง!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },

                eLevelChange() {
                    const loadingComponent = this.$buefy.loading.open();
                    if (this.eLevel === "") {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณากรอกข้อมูลให้ครบ!',
                            type: 'is-danger',
                        })
                    } else {
                        console.log("ddddddddd");
                        fetch("/api/changePre/elevel", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    eLevel: this.eLevel,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'รหัสผ่านไม่ถูกต้อง!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },

                univercityChange() {
                    const loadingComponent = this.$buefy.loading.open();
                    if (this.Univercity === "") {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณากรอกข้อมูลให้ครบ!',
                            type: 'is-danger',
                        })
                    } else {
                        console.log("ddddddddd");
                        fetch("/api/changePre/univercity", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    Univercity: this.Univercity,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'รหัสผ่านไม่ถูกต้อง!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },

                addressChange() {
                    const loadingComponent = this.$buefy.loading.open();
                    if (this.Address === "") {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณากรอกข้อมูลให้ครบ!',
                            type: 'is-danger',
                        })
                    } else {
                        fetch("/api/changePre/address", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    Address: this.Address,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'รหัสผ่านไม่ถูกต้อง!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },

                departmentChange() {
                    const loadingComponent = this.$buefy.loading.open();
                    if (this.Department === "") {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณากรอกข้อมูลให้ครบ!',
                            type: 'is-danger',
                        })
                    } else {
                        fetch("/api/changePre/department", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    Department: this.Department,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'รหัสผ่านไม่ถูกต้อง!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },

                facultyChange() {
                    const loadingComponent = this.$buefy.loading.open();
                    if (this.Faculty === "") {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณากรอกข้อมูลให้ครบ!',
                            type: 'is-danger',
                        })
                    } else {
                        fetch("/api/changePre/faculty", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    Faculty: this.Faculty,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'รหัสผ่านไม่ถูกต้อง!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },

                GPAXChange() {
                    const loadingComponent = this.$buefy.loading.open();
                    if (this.GPAX === "") {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณากรอกข้อมูลให้ครบ!',
                            type: 'is-danger',
                        })
                    } else {
                        fetch("/api/changePre/GPAX", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    GPAX: this.GPAX,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'รหัสผ่านไม่ถูกต้อง!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },

                phoneChange() {
                    const loadingComponent = this.$buefy.loading.open();
                    if (this.phone === "") {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณากรอกข้อมูลให้ครบ!',
                            type: 'is-danger',
                        })
                    } else {
                        fetch("/api/changePre/phone", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    phone: this.phone,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'รหัสผ่านไม่ถูกต้อง!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },



                emailChange() {
                    const loadingComponent = this.$buefy.loading.open();
                    const a = this.email.search("@");
                    console.log(a)
                    if (this.email.search("@") <= 0) {
                        this.$buefy.toast.open({
                            duration: 3000,
                            message: 'กรุณาหรอกอีเมลให้ถูกต้อง!',
                            type: 'is-danger'
                        })
                        loadingComponent.close()
                    } else {
                        fetch("/api/changePre/email", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    email: this.email,
                                    cpass: this.cpass
                                }),
                            })
                            .then(response => {
                                if (response.ok) {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'สำเร็จ!',
                                        type: 'is-success',
                                    })
                                    setTimeout(() => location.reload(), 1000)
                                } else {
                                    this.$buefy.toast.open({
                                        duration: 3000,
                                        message: 'รหัสผ่านไม่ถูกต้อง!',
                                        type: 'is-danger',
                                    })
                                }
                            })
                        setTimeout(() => loadingComponent.close(), 1000)
                    }
                },
                skillpopup() {
                    this.skillpop = true;

                    fetch("/api/getskill/noskill")
                        .then(response => {
                            if (response.ok) {
                                return response.json()
                            }
                        })
                        .then(data => {
                            this.filteredTags = data;
                        })

                },
                addskill() {
                    const loadingComponent = this.$buefy.loading.open();
                    fetch("/api/getskill/addSkill", {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json",
                            },
                            body: JSON.stringify({
                                tags: this.tags,
                                cpass: this.cpass
                            }),
                        })
                        .then(response => {
                            if (response.ok) {
                                this.$buefy.toast.open({
                                    duration: 3000,
                                    message: 'สำเร็จ!',
                                    type: 'is-success',
                                })
                                setTimeout(() => location.reload(), 1000)
                            } else {
                                this.$buefy.toast.open({
                                    duration: 3000,
                                    message: 'รหัสผ่านไม่ถูกต้อง!',
                                    type: 'is-danger',
                                })
                            }
                        })
                    setTimeout(() => loadingComponent.close(), 1000)
                }



            },
            created: function() {
                this.checkUserIsLogin();
                this.getpredekdata();
            },
        });
    </script>

</body>

</html>